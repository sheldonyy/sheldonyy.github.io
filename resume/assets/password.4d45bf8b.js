import{_ as h,r as g,i as b,n as v,q as x,s as w,E as y,o as V,c as C,b as a,w as n,a as c,m as k,p as E,e as F,f as I}from"./index.30f7c01e.js";/* empty css                  */import{_ as i,r as W}from"./getCode.230dd1d2.js";const q={components:{getCode:i},setup(){const r=g(),e=b({phone:"",passWord:"",code:""});return{form:e,rules:{phone:[{required:!0,message:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7",trigger:"change"}],passWord:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"change"}],code:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",trigger:"change"}]},ruleFormRef:r,getCode:s=>{e.code=s},submit:async s=>{!s||await s.validate(async l=>{if(l)try{const{token:t,uin:p}=await W({phone:e.name,pass_word:e.passWord,code:e.code});login.setLogin({token:t,uin:p}),router.push("/")}catch(t){console.log(t),k.error("\u4FEE\u6539\u5931\u8D25")}})}}}},B=r=>(E("data-v-2a1b56fa"),r=r(),F(),r),N={class:"form"},R=B(()=>c("div",{class:"head line"},[c("div",{class:"type"},[c("span",null,"\u4FEE\u6539\u5BC6\u7801")])],-1)),S={class:"line"},z=I(" \u4FEE\u6539 ");function G(r,e,m,o,f,s){const l=v,t=x,p=i,_=w,u=y;return V(),C("div",N,[R,a(_,{ref:"ruleFormRef",model:o.form,rules:o.rules,class:"demo-ruleForm"},{default:n(()=>[a(t,{label:"",prop:"phone"},{default:n(()=>[a(l,{modelValue:o.form.phone,"onUpdate:modelValue":e[0]||(e[0]=d=>o.form.phone=d),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"},null,8,["modelValue"])]),_:1}),a(t,{label:"",prop:"passWord"},{default:n(()=>[a(l,{modelValue:o.form.passWord,"onUpdate:modelValue":e[1]||(e[1]=d=>o.form.passWord=d),"show-password":"",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),a(t,{label:"",prop:"code"},{default:n(()=>[a(p,{code:o.form.code,phone:o.form.phone,onGetCode:o.getCode},null,8,["code","phone","onGetCode"])]),_:1})]),_:1},8,["model","rules"]),c("div",S,[a(u,{class:"submit",type:"primary",onClick:e[2]||(e[2]=d=>o.submit(o.ruleFormRef))},{default:n(()=>[z]),_:1})])])}var T=h(q,[["render",G],["__scopeId","data-v-2a1b56fa"]]);export{T as default};
