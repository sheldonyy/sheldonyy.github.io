import{_ as u,r as v,i as b,n as x,q as h,s as w,E as y,o as k,c as V,b as s,w as t,a as m,m as C,p as z,e as B,f as E}from"./index.30f7c01e.js";/* empty css                  */import{_ as d,r as F}from"./getCode.230dd1d2.js";const I={components:{getCode:d},setup(){const a=v(),e=b({name:"",phone:"",passWord:"",code:""});return{form:e,rules:{phone:[{required:!0,message:"\u8BF7\u8F93\u5165\u8D26\u53F7",trigger:"change"}],passWord:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"change"}],code:[{required:!0,message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801",trigger:"change"}]},ruleFormRef:a,getCode:l=>{e.code=l},submit:async l=>{!l||await l.validate(async n=>{if(n)try{const{token:r,uin:i}=await F({phone:e.name,pass_word:e.passWord,code:e.code,role:2});login.setLogin({token:r,uin:i}),router.push("/")}catch(r){console.log(r),C.error("\u6CE8\u518C\u5931\u8D25")}})}}}},W=a=>(z("data-v-7b1f2c54"),a=a(),B(),a),q={class:"form"},N=W(()=>m("div",{class:"head line"},[m("div",{class:"type"},[m("span",null,"\u6CE8\u518C")])],-1)),R={class:"line"},S=E(" \u767B\u5F55 ");function G(a,e,g,o,p,l){const n=x,r=h,i=d,f=w,_=y;return k(),V("div",q,[N,s(f,{ref:"ruleFormRef",model:o.form,rules:o.rules,class:"demo-ruleForm"},{default:t(()=>[s(r,{label:"",prop:"phone"},{default:t(()=>[s(n,{modelValue:o.form.phone,"onUpdate:modelValue":e[0]||(e[0]=c=>o.form.phone=c),placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"},null,8,["modelValue"])]),_:1}),s(r,{label:"",prop:"passWord"},{default:t(()=>[s(n,{modelValue:o.form.passWord,"onUpdate:modelValue":e[1]||(e[1]=c=>o.form.passWord=c),"show-password":"",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["modelValue"])]),_:1}),s(r,{label:"",prop:"code"},{default:t(()=>[s(i,{code:o.form.code,phone:o.form.phone,onGetCode:o.getCode},null,8,["code","phone","onGetCode"])]),_:1})]),_:1},8,["model","rules"]),m("div",R,[s(_,{class:"submit",type:"primary",onClick:e[2]||(e[2]=c=>o.submit(o.ruleFormRef))},{default:t(()=>[S]),_:1})])])}var L=u(I,[["render",G],["__scopeId","data-v-7b1f2c54"]]);export{L as default};
